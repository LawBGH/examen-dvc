schema: '2.0'
stages:
  download:
    cmd: python data/download.py data/raw_data/raw.csv
    deps:
    - path: data/download.py
      hash: md5
      md5: 86af1ad4719e874f20f045ce07017117
      size: 476
    - path: params.yaml
      hash: md5
      md5: 5a175f8f1fce29af3a41a779b4ec6790
      size: 750
    outs:
    - path: data/raw_data/raw.csv
      hash: md5
      md5: 076ef13ee7a9bf9dd021560d1f4084c3
      size: 330716
  split:
    cmd: python src/data/split.py --input data/raw_data/raw.csv --output 
      data/processed --params params.yaml
    deps:
    - path: data/raw_data/raw.csv
      hash: md5
      md5: 076ef13ee7a9bf9dd021560d1f4084c3
      size: 330716
    - path: params.yaml
      hash: md5
      md5: 5a175f8f1fce29af3a41a779b4ec6790
      size: 750
    - path: src/data/split.py
      hash: md5
      md5: 957cc211d4f1eb96cb9bfaf2a39f490b
      size: 1511
    outs:
    - path: data/processed/X_test.csv
      hash: md5
      md5: f0f950fa87af7b8101f12ef2edd0b196
      size: 59902
    - path: data/processed/X_train.csv
      hash: md5
      md5: 8b182e996e777cfc33f76a677928c5b4
      size: 238468
    - path: data/processed/y_test.csv
      hash: md5
      md5: 70968fa4615f00f21dcc604a25be2da3
      size: 6452
    - path: data/processed/y_train.csv
      hash: md5
      md5: 5f8aa77e7118c62359074ed355041f85
      size: 25946
  normalize:
    cmd: python src/data/normalize.py --input_dir data/processed --output_dir 
      data/processed
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: f0f950fa87af7b8101f12ef2edd0b196
      size: 59902
    - path: data/processed/X_train.csv
      hash: md5
      md5: 8b182e996e777cfc33f76a677928c5b4
      size: 238468
    - path: params.yaml
      hash: md5
      md5: 5a175f8f1fce29af3a41a779b4ec6790
      size: 750
    - path: src/data/normalize.py
      hash: md5
      md5: 1620e84abddebb7e215d8eb73ea1df49
      size: 2259
    outs:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 543580ad94ebd693668840de976199a6
      size: 64141
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: f1c44e8ec1ae6cb90c69dcb5f613a09d
      size: 255947
  grid_search:
    cmd: python src/models/grid_search.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: f1c44e8ec1ae6cb90c69dcb5f613a09d
      size: 255947
    - path: data/processed/y_train.csv
      hash: md5
      md5: 5f8aa77e7118c62359074ed355041f85
      size: 25946
    - path: params.yaml
      hash: md5
      md5: 5a175f8f1fce29af3a41a779b4ec6790
      size: 750
    - path: src/models/grid_search.py
      hash: md5
      md5: 16b3464880bb5115c9110cafb97c3097
      size: 3973
    outs:
    - path: metrics/grid_search.json
      hash: md5
      md5: 95926dadaccee6d103e55e747d1cd29b
      size: 136
    - path: models/best_params.pkl
      hash: md5
      md5: 3660c3a236a198e48947625b3243aa93
      size: 72
    - path: models/selected_model.pkl
      hash: md5
      md5: 848a4b7decf8e07d803114375c93ec17
      size: 376693
    - path: reports/grid_search_report.csv
      hash: md5
      md5: cd770738d89b51d138973480a3102798
      size: 8303
  training:
    cmd: python src/models/training.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: f1c44e8ec1ae6cb90c69dcb5f613a09d
      size: 255947
    - path: data/processed/y_train.csv
      hash: md5
      md5: 5f8aa77e7118c62359074ed355041f85
      size: 25946
    - path: models/best_params.pkl
      hash: md5
      md5: 3660c3a236a198e48947625b3243aa93
      size: 72
    - path: params.yaml
      hash: md5
      md5: 5a175f8f1fce29af3a41a779b4ec6790
      size: 750
    - path: src/models/training.py
      hash: md5
      md5: 93d31378b6734b62aa241110318670d1
      size: 3022
    outs:
    - path: models/gbr_model.pkl
      hash: md5
      md5: c7f2bc349b271baa7507f74905f91c8c
      size: 376742
  evaluate:
    cmd: python src/models/evaluate.py
    deps:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 543580ad94ebd693668840de976199a6
      size: 64141
    - path: data/processed/y_test.csv
      hash: md5
      md5: 70968fa4615f00f21dcc604a25be2da3
      size: 6452
    - path: models/gbr_model.pkl
      hash: md5
      md5: c7f2bc349b271baa7507f74905f91c8c
      size: 376742
    - path: params.yaml
      hash: md5
      md5: 5a175f8f1fce29af3a41a779b4ec6790
      size: 750
    - path: src/models/evaluate.py
      hash: md5
      md5: ef367dd0e911440c09016b9f632d23ec
      size: 3824
    outs:
    - path: data/processed/predictions.csv
      hash: md5
      md5: 0c3b6666a9ac7c3f8af94ec128e3e9f6
      size: 13226
    - path: metrics/scores.json
      hash: md5
      md5: b7d92b5d9e7191618bb7fc0e45f2d922
      size: 57
